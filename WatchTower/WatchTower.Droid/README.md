# INTRODUCTION

This README describes the general architecture and steps required to build WatchTower for Android.  It assumes that the WatchTower and EMS solutions and associated projects have been downloaded and are available to build.



# ARCHITECTURE

The WatchTower solution can be opened in Xamarin or Visual Studio for Mac.  

The solution consists of three projects:

1.  **WatchTower** - This is a library with common functionality used by both the Android and iOS applications.  Functionality in this library includes classes used to send EDXL messages from the device to the server, and code to parse the data packets coming from connected Bluetooth Low Energy (BLE) devices.

2.  **WatchTower.Droid** - This contains the source code for the Android version of WatchTower.  

3.  **WatchTower.iOS** - This contains the source code for the iOS version of WatchTower.



# BUILDING THE SHARED WATCHTOWER PROJECT

1. Ensure that all the required Portable Class Library (PCL) EMS libraries are referenced appropriately in the shared WatchTower project.  These libraries are used for handling and serializing EDXL messages.  These libraries can be generated by downloading the EMS solution and compiling the PCL version of the libraries.  Note that to add references, you can establish a NuGet repository for Xamarin or Visual Studio to use, or manually copy and reference the EMS libraries as needed.

2. Build the shared WatchTower project.



# BUILDING WATCHTOWER FOR ANDROID

Important Note: Do not bulk update all of the nuget packages associated with WatchTower.Droid.  There is an incompatibility that arises.

1.  Ensure that the shared WatchTower project is built and properly referenced from the WatchTower.Droid project.

2. Ensure that all the required Portable Class Library (PCL) EMS libraries are referenced appropriately in the WatchTower.Droid project.
Follow the same instructions found under the *BUILDING THE SHARED WATCHTOWER PROJECT* section.

3. Build the WatchTower.Droid project.



# Installation

You can install WatchTower for Android in a few different ways depending on how you have your build and distribution process set up.  One way is to build the app and then publish it to Google Play and download the Watchtower.apk file from there.  In this case, make sure you have Google Play Services installed and updated. In this scenario WatchTower relies on Google Play Services and will not run if it is not installed. 
Another way to distribute the app is to build the app and then manually copy it to your Android device.
Regardless of the way you distribute the app, once you get the app, using the File Manager on your phone, navigate to the Downloads folder and click on the Watchtower.apk file and install. Depending on your device and OS version, you may see warnings about security risks.  Allowing apps from unknown sources (Settings->Security->Unknown Sources/”Allow installation of apps from unknown sources”) will help speed up the installation process.

## **DISCLAIMER OF LIABILITY NOTICE**:

                      

> The United States Government shall not be liable or responsible for
> any maintenance, updating or for correction of any errors in the
> software. 
>
> THIS SOFTWARE IS PROVIDED "AS IS" WITHOUT ANY WARRANTY OF ANY KIND,
> EITHER EXPRESSED, IMPLIED, OR STATUTORY, INCLUDING, BUT NOT LIMITED
> TO, ANY WARRANTY THAT THE SOFTWARE WILL CONFORM TO SPECIFICATIONS, ANY
> IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
> PURPOSE, OR FREEDOM FROM INFRINGEMENT, ANY WARRANTY THAT THE SOFTWARE
> WILL BE ERROR FREE, OR ANY WARRANTY THAT THE DOCUMENTATION, IF
> PROVIDED, WILL CONFORM TO THE SOFTWARE.  IN NO EVENT SHALL THE UNITED
> STATES GOVERNMENT OR ITS CONTRACTORS OR SUBCONTRACTORS BE LIABLE FOR
> ANY DAMAGES, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, SPECIAL
> OR CONSEQUENTIAL DAMAGES, ARISING OUT OF, RESULTING FROM, OR IN ANY
> WAY CONNECTED WITH THE SOFTWARE OR ANY OTHER PROVIDED DOCUMENTATION,
> WHETHER OR NOT BASED UPON WARRANTY, CONTRACT, TORT, OR OTHERWISE,
> WHETHER OR NOT INJURY WAS SUSTAINED BY PERSONS OR PROPERTY OR
> OTHERWISE, AND WHETHER OR NOT LOSS WAS SUSTAINED FROM, OR AROSE OUT OF
> THE RESULTS OF, OR USE OF, THE NICS SOFTWARE OR ANY PROVIDED
> DOCUMENTATION. THE UNITED STATES GOVERNMENT DISCLAIMS ALL WARRANTIES
> AND LIABILITIES REGARDING THIRD PARTY SOFTWARE, IF PRESENT IN THE
> SOFTWARE, AND DISTRIBUTES IT "AS IS."
>
>            
>
> LICENSEE AGREES TO WAIVE ANY AND ALL CLAIMS AGAINST THE U.S.
> GOVERNMENT AND THE UNITED STATES GOVERNMENT'S CONTRACTORS AND
> SUBCONTRACTORS, AND SHALL INDEMNIFY AND HOLD HARMLESS THE U.S.
> GOVERNMENT AND THE UNITED STATES GOVERNMENT'S CONTRACTORS AND
> SUBCONTRACTORS FOR ANY LIABILITIES, DEMANDS, DAMAGES, EXPENSES, OR
> LOSSES THAT MAY ARISE FROM RECIPIENT'S USE OF THE SOFTWARE OR PROVIDED
> DOCUMENTATION, INCLUDING ANY LIABILITIES OR DAMAGES FROM PRODUCTS
> BASED ON, OR RESULTING FROM, THE USE THEREOF.
>
> **[ACKNOWLEDGEMENT NOTICE]**:
>
> *This software was developed with funds from the Department of
> Homeland Security's Science and Technology Directorate.* 
>
> **[PROHIBITION ON USE OF DHS IDENTITIES NOTICE]**:
>
> A.  No user shall use the DHS or its component name, seal or other
> identity, or any variation or adaptation thereof, for an enhancement,
> improvement, modification or derivative work utilizing the software.
>
> B.  No user shall use the DHS or its component name, seal or other
> identity, or any variation or adaptation thereof for advertising its
> products or services, with the exception of using a factual statement
> such as included in the ACKNOWLEDGEMENT NOTICE indicating DHS funding
> of development of the software.           
>
> C.  No user shall make any trademark claim to the DHS or its component
> name, seal or other identity, or any other confusing similar identity,
> and no user shall seek registration of these identities at the U.S.
> Patent and Trademark Office.